(()=>{var t=[,(t,e,o)=>{var n=o(2);t.exports=function(t,e,o){return(e=n(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t},t.exports.__esModule=!0,t.exports.default=t.exports},(t,e,o)=>{var n=o(3).default,i=o(4);t.exports=function(t){var e=i(t,"string");return"symbol"==n(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},t=>{function e(o){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(o)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},(t,e,o)=>{var n=o(3).default;t.exports=function(t,e){if("object"!=n(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports}],e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}(()=>{var t=o(1);function e(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function n(o){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(e){t(o,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}self.addEventListener("push",t=>{if(console.log("Push event received:",t),t.data)try{const e=t.data.json();console.log("Push data:",e);const o={body:e.body||"You have a new notification",icon:e.icon||"/icons/icon-192x192.png",badge:e.badge||"/icons/icon-72x72.png",vibrate:e.vibrate||[200,100,200],data:n({url:e.url||"/budget",timestamp:Date.now()},e.data),actions:e.actions||[{action:"view",title:"View Details"},{action:"dismiss",title:"Dismiss"}],requireInteraction:e.requireInteraction||!1,silent:e.silent||!1,tag:e.tag||"budget-notification",renotify:e.renotify||!1};t.waitUntil(self.registration.showNotification(e.title||"Budget App",o))}catch(e){console.error("Error parsing push data:",e);const o={body:"You have a new notification from Budget App",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",data:{url:"/budget",timestamp:Date.now()}};t.waitUntil(self.registration.showNotification("Budget App",o))}else{const e={body:"You have a new notification from Budget App",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",data:{url:"/budget",timestamp:Date.now()}};t.waitUntil(self.registration.showNotification("Budget App",e))}}),self.addEventListener("notificationclick",t=>{var e;console.log("Notification clicked:",t),t.notification.close();const o=(null===(e=t.notification.data)||void 0===e?void 0:e.url)||"/budget",n=t.action;"dismiss"!==n&&("view"!==n&&n||t.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then(t=>{for(const e of t)if(e.url.includes(o)&&"focus"in e)return e.focus();if(clients.openWindow)return clients.openWindow(o)})))}),self.addEventListener("notificationclose",t=>{console.log("Notification closed:",t)}),self.addEventListener("sync",t=>{console.log("Background sync:",t),"notification-sync"===t.tag&&t.waitUntil(Promise.resolve())}),self.addEventListener("message",t=>{console.log("Service worker received message:",t.data),t.data&&"SKIP_WAITING"===t.data.type&&self.skipWaiting()}),console.log("Custom service worker extensions loaded with notification support")})()})();